@model Assignment4.Controllers.InvoiceWithDetail

@{
    ViewBag.Title = "Invoice Details";

    var invoiceDate = Model.InvoiceDate.ToLongDateString();
    var total = "$ " + Model.Total;
    var customerName = Model.CustomerFirstName + " " + Model.CustomerLastName;
    var customerCityState = Model.CustomerCity + ", " + Model.CustomerState;
    var salesRep = Model.CustomerEmployeeFirstName + " " + Model.CustomerEmployeeLastName;
    var billingCityStateCountry = Model.BillingCity + ", " + Model.BillingState + ", " + Model.BillingCountry;
}

<h2>Invoice Details</h2>

<div>
    <h4>InvoiceWithDetail</h4>
    <hr />
    <dl class="dl-horizontal">
       
        <dt>
            @Html.DisplayNameFor(model => Model.InvoiceId)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.InvoiceId)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.InvoiceDate)
        </dt>

        <dd>
            @invoiceDate
            @*@Html.DisplayFor(model => model.InvoiceDate)*@
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Total)
        </dt>

        <dd>
            @total
                @*@Html.DisplayFor(model => model.Total)*@
        </dd>
    </dl>

    <hr />

    <dl class="dl-horizontal">

        <dt>
            @Html.DisplayNameFor(model => model.CustomerId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CustomerId)
        </dd>

         <dt>
            Customer name
             @*@Html.DisplayNameFor(model => model.CustomerFirstName)*@
        </dt>

        <dd>
            @customerName
            @* @Html.DisplayFor(model => model.CustomerFirstName)*@
        </dd>

        <dt>
            @*@Html.DisplayNameFor(model => model.CustomerLastName)*@
            </dt>

            <dd>
               @* @Html.DisplayFor(model => model.CustomerLastName)*@
        </dd>

        <dt>

        </dt>

        <dd>
            @customerCityState
            @*@Html.DisplayFor(model => model.CustomerCity)*@
        </dd>

        <dt>

        </dt>

        <dd>
            @*@Html.DisplayFor(model => model.CustomerState)*@
        </dd>

        <dt>
            Sales representative
            @*@Html.DisplayNameFor(model => model.CustomerEmployeeFirstName)*@
        </dt>

        <dd>
            @salesRep
            @*@Html.DisplayFor(model => model.CustomerEmployeeFirstName)*@
         </dd>

        <dt>
       
            @*@Html.DisplayNameFor(model => model.CustomerEmployeeLastName)*@
        </dt>

        <dd>
            @*@Html.DisplayFor(model => model.CustomerEmployeeLastName)*@
        </dd>

    </dl>

        <p></p>

    <dl class="dl-horizontal">

        <dt>
            Billing address
            @* @Html.DisplayNameFor(model => model.BillingAddress)*@
        </dt>

        <dd>

            @Html.DisplayFor(model => model.BillingAddress)
        </dd>

        <dt>
            @*@Html.DisplayNameFor(model => model.BillingCity)*@
        </dt>

        <dd>
            @billingCityStateCountry
            @*@Html.DisplayFor(model => model.BillingCity)*@
        </dd>

        <dt>
            @*@Html.DisplayNameFor(model => model.BillingState)*@
        </dt>

        <dd>
            @*@Html.DisplayFor(model => model.BillingState)*@
        </dd>

        <dt>
            @*@Html.DisplayNameFor(model => model.BillingCountry)*@
        </dt>

        <dd>
            @*@Html.DisplayFor(model => model.BillingCountry)*@
        </dd>

        <dt>
            @*@Html.DisplayNameFor(model => model.BillingPostalCode)*@
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BillingPostalCode)
        </dd>
    </dl>
    <p style="font-weight:600">Line item detail</p>
        <table class="table table-striped">

            <tbody>  
                <tr>
                    <td style="font-weight:bold">
                        Invoice line ID
                    </td>
                    <td style="font-weight:bold">
                        Track ID
                    </td>
                    <td style="font-weight:bold">
                        Track Name, Artist
                    </td>
                    <td style="font-weight:bold">
                        Album, Composer(s)
                    </td>
                    <td style="font-weight:bold">
                        Unit Price
                    </td>
                    <td style="font-weight:bold">
                        Quantity
                    </td>
                    <td style="font-weight:bold">
                        Item Total
                    </td>
                </tr>
                @foreach (var l in Model.InvoiceLines)
                {
                    var line1 = string.Format("{0}", l.InvoiceLineId);
                    var line2 = string.Format("{0}",  l.TrackId);
                    var line3a = string.Format("{0}", l.TrackName);
                    var line3b = string.Format("{0}", l.TrackAlbumArtistName);
                    var line3c = string.Format("{0}", l.TrackAlbumTitle);
                    var line3d = string.Format("{0}", l.TrackComposer);
                    var line3e = string.Format("{0}", l.TrackMediaTypeName);
                    var line4 = string.Format("{0}",  l.UnitPrice);
                    var line5 = string.Format("{0}", l.Quantity);
                    var line6 = l.UnitPrice * l.Quantity;
                    <tr>
                        <td>
                            @line1
                        </td>
                        <td>
                            @line2
                        </td>
                        <td>
                            @line3a
                            <br />
                            by @line3b
                           
                            
                        </td>
                        <td>
                           
                            Album: @line3c
                            <br />
                            Composer(s): @line3d
                            <br />
                            Format: @line3e

                        </td>
                        <td>
                            @line4
                        </td>
                        <td>
                            @line5
                        </td>
                        <td>
                            @line6
                        </td>
                    </tr>
                  
                }

            </tbody>
        </table>
      

    
    </div>
    <p>
      
        @Html.ActionLink("Back to List", "Index")
    </p>
